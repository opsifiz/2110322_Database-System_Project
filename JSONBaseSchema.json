[
  {
    "title": "users",
    "required": [ "_id", "fname", "lname", "telephone", "email", "password", "role" ],
    "properties": {
      "_id": { "bsonType": "objectId" },
      "fname": { "bsonType": "string" },
      "mname": { "bsonType": "string" },
      "lname": { "bsonType": "string" },
      "telephone": {
        "bsonType": "string",
        "pattern": "^[0-9]{9,10}$"
      },
      "email": {
        "bsonType": "string",
        "pattern": "^.+@.+$"
      },
      "password": { "bsonType": "string" },
      "role": {
        "bsonType": "string",
        "enum": [ "user", "admin" ]
      }
    }
  },
  {
    "title": "campgrounds",
    "required": [ "_id", "name", "district", "province", "tents" ],
    "properties": {
      "_id": { "bsonType": "objectId" },
      "name": { "bsonType": "string" },
      "address": {
        "bsonType": "object",
        "properties": {
          "house_no": { "bsonType": "string" },
          "street": { "bsonType": "string" },
          "subdistrict": { "bsonType": "string" },
          "district": { "bsonType": "string" },
          "province": { "bsonType": "string" },
          "postal_code": { "bsonType": "string" },
          "map_url": { "bsonType": "string" }
        }
      },
      "contact_email": { "bsonType": "string" },
      "phone_numbers": {
        "bsonType": "array",
        "items": {
          "bsonType": "string",
          "pattern": "^[0-9]{9,10}$"
        }
      },
      "facilities": {
        "bsonType": "array",
        "items": {
          "bsonType": "object",
          "properties": {
            "facility_id": { "bsonType": "int" },
            "facility_type": { "bsonType": "string" }
          }
        }
      },
      "tents": {
        "bsonType": "array",
        "items": {
          "bsonType": "object",
          "required": [ "tent_id", "price" ],
          "properties": {
            "tent_id": { "bsonType": "int" },
            "size": { "bsonType": "string" },
            "zone": { "bsonType": "string" },
            "price": { "bsonType": "decimal" }
          }
        }
      }
    }
  },
  {
    "title": "bookings",
    "required": [ "_id", "user_id", "campground_id", "tent_id", "start_date", "end_date" ],
    "properties": {
      "_id": { "bsonType": "objectId" },
      "user_id": { "bsonType": "objectId" },
      "campground_id": { "bsonType": "objectId" },
      "tent_id": { "bsonType": "int" },
      "booking_date": { "bsonType": "date" },
      "start_date": { "bsonType": "date" },
      "end_date": { "bsonType": "date" },
      "status": {
        "bsonType": "string",
        "enum": [ "pending", "confirmed", "cancelled" ]
      }
    }
  }
]